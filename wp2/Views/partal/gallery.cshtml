@{
    var list_gallery = (System.Data.DataTable)ViewData["list_gallery"];
    var list_gallery_be = (System.Data.DataTable)ViewData["list_gallery_be"];
}

<!-- galery-->
<section class="section-photo-gallery">
    <div class="container-wrapper">
        <div class="d-flex justify-content-between label">
            <div class="text-uppercase font_bold"> @bl.lng.l.Photo_Gallery </div>
            <a href="/pictures/gallery" class="text-white">@bl.lng.l.View_gallery</a>
        </div>

        <div class="photo_gallery mb-4" style="height: 14rem;">

            @foreach (System.Data.DataRow r in list_gallery_be.Rows)
            {
                <a href="@r["link"]">
                    <img src="@r["link"]" alt="Second image">
                </a>
            }

        </div>

        <div class="d-flex justify-content-center">
            <button type="button" class="btn btn-primary btn-effect w-0 mr-3" onclick="gallery.bl.btn_gallery_toggle(this);"><i class="fas fa-angle-down"></i><span class="pl-2">@bl.lng.l.View_more</span></button>
            <a  href="/pictures/gallery" class="btn btn-primary btn-effect w-0"><i class="fas fa-angle-down"></i><span class="pl-2">@bl.lng.l.View_gallery</span></a>
        </div>

    </div>
</section>


<!-- scripts -->
<script>

    var gallery = {};

    // Load function
    gallery.load = () => {

    }

    // BL logic
    gallery.bl = new function () {

        this.btn_gallery_toggle = function (e) {

            let gallery_wrapper = document.querySelector(".photo_gallery");
            let label = e.getElementsByTagName("span")[0];

            if (!gallery_wrapper.classList.contains("open")) {
                label.textContent = "Show less";
                e.getElementsByTagName("i")[0].classList.add("rotate_180");
                gallery_wrapper.classList.add("open");
                gallery_wrapper.style.height = "unset";

            } else {
                label.textContent = "Show more";
                e.getElementsByTagName("i")[0].classList.remove("rotate_180");
                gallery_wrapper.classList.remove("open");
                gallery_wrapper.style.height = "14rem";
            }
       

        }

    }

    // Lightbox - gallery
    window.addEventListener('load', function () {
        lightGallery(document.querySelector(".photo_gallery"));
    });


</script>

